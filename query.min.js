(function(e,t){function n(){}function r(e){var t=this.length?Array.prototype.slice.call(this):[this],r=[],i=new n;e.split(/\s*,\s*/).forEach(function(e){var n=t.slice();e.split(/\s+/).forEach(function(e){n=n.map(function(t){return Array.prototype.slice.call(t.querySelectorAll(e))});if(n.length)n=n.reduce(function(e,t){return e.concat(t)})});r.push.apply(r,n)});r=r.filter(function(e,t){return r.indexOf(e)===t}).sort(function(e,t){return 3-(e.compareDocumentPosition(t)&6)});Array.prototype.push.apply(i,r);return i}function i(e){return r.call(this,e)[0]||null}n.prototype=t;e.query=e.query||i;e.queryAll=e.queryAll||r})(Element.prototype,NodeList.prototype)
